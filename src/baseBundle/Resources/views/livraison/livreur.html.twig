{% extends '@base/admin/base.html.twig' %}
{% block title %}Admin - Livreur{% endblock %}
{% block body %}
    <script src="{{ asset('admin/vendor/jquery/jquery.min.js') }}"></script>
    <link href="{{ asset('admin/customCss/mapCss.css') }}" rel="stylesheet"/>

    <script>
        $(document).ready(function(){
            //                <button type="button" class="btn btn-info" data-toggle="modal" data-target="#modalRegular">Open Map</button>


            $("#basebundle_livreur_localisation").text("Open Map to choose the Location");
            $("#basebundle_livreur_localisation").addClass("btn");

        $("#basebundle_livreur_Ajouter").on("click",function(){
            $("#basebundle_livreur_localisation").removeAttr("disabled");

             });
        });
       function setLatLng()
       {
           var iframe = document.getElementById("mapFrame");
           var lat = iframe.contentWindow.document.getElementById("mapLat").value;
           var lng = iframe.contentWindow.document.getElementById("mapLng").value;
           var tit=iframe.contentWindow.document.getElementById("mapTit").value;

            //$("#basebundle_livreur_localisation").val(tit+" : "+lat+"-"+lng);
           $("#basebundle_livreur_localisation").text(tit+" : "+lat+"-"+lng);

       }

    </script>
<div id="content-wrapper">

        <div class="container-fluid">

            <!-- Breadcrumbs-->
            <ol class="breadcrumb">
                <li class="breadcrumb-item">
                    <a href="{{ path('admin_index') }}">Dashboard</a>
                </li>
                <li class="breadcrumb-item active">Ajouter Livreur</li>
            </ol>

            <!-- Page Content -->
            <h1>Ajouter Livreur</h1>
            <hr>
            <div class="form-group">
            {{ form_start(form) }}
            Nom Livreur :
                {{ form_widget(form.nom, {'attr': {'class': 'form-control'}}) }}

                Prenom Livreur :
                {{ form_widget(form.prenom, {'attr': {'class': 'form-control'}}) }}

                    Numéro du Téléphone Livreur :
                {{ form_widget(form.tel, {'attr': {'class': 'form-control'}}) }}

            Localisation du Livreur :
                {{ form_widget(form.localisation, {'attr': {'class': 'form-control',"disabled":"disabled"}}) }}

                <div class="row justify-content-md-center">
                    <div class="col col-lg-2"><br/>

                        {{ form_widget(form.Ajouter, {'attr': {'class': 'btn btn-primary form-control'}})}}
                    </div>
                </div>
            {{ form_end(form) }}
        </div>
            <div class="text-center">

                <button type="button" class="btn btn-info" data-toggle="modal" data-target="#modalRegular">Open Map</button>

            </div>

            <!--Modal: Name-->
            <div class="modal fade" id="modalRegular" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
                 aria-hidden="true">
                <div class="modal-dialog modal-lg" role="document">

                    <!--Content-->
                    <div class="modal-content">

                        <!--Body-->
                        <div class="modal-body mb-0 p-0">

                            <!--Google map-->
                            <div id="map-container-google-16" class="z-depth-1-half map-container-9" style="height: 400px">
                                <iframe id="mapFrame" src="{{ path('admin_map') }}"
                                        frameborder="0" style="border:0" allowfullscreen></iframe>
                            </div>

                        </div>

                        <!--Footer-->
                        <div class="modal-footer justify-content-center">

                            <button type="button" onclick="setLatLng()" data-dismiss="modal" class="btn btn-info btn-md">Save location <i class="fas fa-map-marker-alt ml-1"></i></button>
                            <button type="button" class="btn btn-outline-info btn-md" data-dismiss="modal">Close <i class="fas fa-times ml-1"></i></button>

                        </div>

                    </div>
                    <!--/.Content-->

                </div>
            </div>
            <!--Modal: Name-->

        <!-- /.container-fluid -->

        <!-- Sticky Footer -->
        <footer class="sticky-footer">
            <div class="container my-auto">
                <div class="copyright text-center my-auto">
                    <span>Copyright © Your Website 2019</span>
                </div>
            </div>
        </footer>

    </div>
    <!-- /.content-wrapper -->

</div>
<!-- /#wrapper -->
{% endblock %}